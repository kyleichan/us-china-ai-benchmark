<!DOCTYPE html>
<html>
<head>
    <style>
        #game {
            width: 200px;
            height: 300px;
            border: 1px solid black;
            position: relative;
            overflow: hidden;
            background: #87CEEB;
        }
        .block {
            position: absolute;
            cursor: grab;
            user-select: none;
        }
        #ground {
            position: absolute;
            bottom: 0;
            width: 100%;
            height: 20px;
            background: #8B4513;
        }
    </style>
</head>
<body>
    <div id="game">
        <div id="ground"></div>
    </div>

    <script>
        const game = document.getElementById('game');
        const ground = document.getElementById('ground');
        let blocks = [];
        let selectedBlock = null;
        let offsetX, offsetY;
        let gravity = 0.2;
        let friction = 0.98;
        let earthquakeTimer = 0;

        // Create blocks with different shapes and sizes
        function createBlocks() {
            const shapes = [
                {width: 40, height: 20, color: '#FF0000'},
                {width: 60, height: 15, color: '#00FF00'},
                {width: 30, height: 30, color: '#0000FF'},
                {width: 50, height: 10, color: '#FFFF00'},
                {width: 25, height: 40, color: '#FF00FF'},
                {width: 70, height: 12, color: '#00FFFF'},
                {width: 35, height: 25, color: '#FFA500'},
                {width: 45, height: 18, color: '#800080'},
                {width: 55, height: 14, color: '#008000'},
                {width: 20, height: 50, color: '#FFC0CB'}
            ];

            for (let i = 0; i < 10; i++) {
                const block = document.createElement('div');
                block.className = 'block';
                block.style.width = shapes[i].width + 'px';
                block.style.height = shapes[i].height + 'px';
                block.style.backgroundColor = shapes[i].color;
                block.style.left = Math.random() * 150 + 'px';
                block.style.top = (200 - shapes[i].height - Math.random() * 100) + 'px';
                
                block.velocityY = 0;
                block.onGround = false;
                
                block.addEventListener('mousedown', startDrag);
                game.appendChild(block);
                blocks.push(block);
            }
        }

        function startDrag(e) {
            selectedBlock = this;
            offsetX = e.clientX - selectedBlock.getBoundingClientRect().left;
            offsetY = e.clientY - selectedBlock.getBoundingClientRect().top;
            selectedBlock.style.cursor = 'grabbing';
            document.addEventListener('mousemove', drag);
            document.addEventListener('mouseup', stopDrag);
        }

        function drag(e) {
            if (!selectedBlock) return;
            const gameRect = game.getBoundingClientRect();
            let x = e.clientX - gameRect.left - offsetX;
            let y = e.clientY - gameRect.top - offsetY;
            
            // Keep within bounds
            x = Math.max(0, Math.min(x, 200 - selectedBlock.offsetWidth));
            y = Math.max(0, Math.min(y, 300 - selectedBlock.offsetHeight));
            
            selectedBlock.style.left = x + 'px';
            selectedBlock.style.top = y + 'px';
        }

        function stopDrag() {
            if (selectedBlock) {
                selectedBlock.style.cursor = 'grab';
                selectedBlock = null;
            }
            document.removeEventListener('mousemove', drag);
            document.removeEventListener('mouseup', stopDrag);
        }

        function applyPhysics() {
            for (let block of blocks) {
                // Apply gravity
                block.velocityY += gravity;
                let newY = parseFloat(block.style.top) + block.velocityY;
                
                // Ground collision
                if (newY > 280 - block.offsetHeight) {
                    newY = 280 - block.offsetHeight;
                    block.velocityY = 0;
                    block.onGround = true;
                } else {
                    block.onGround = false;
                }
                
                // Apply friction
                block.velocityY *= friction;
                
                block.style.top = newY + 'px';
            }
        }

        function earthquake() {
            for (let block of blocks) {
                if (Math.abs(block.velocityY) < 0.5 && !selectedBlock) {
                    block.velocityY = -Math.random() * 3;
                }
            }
        }

        function gameLoop() {
            applyPhysics();
            earthquakeTimer++;
            if (earthquakeTimer > 100) {
                earthquake();
                earthquakeTimer = 0;
            }
            requestAnimationFrame(gameLoop);
        }

        createBlocks();
        gameLoop();
    </script>
</body>
</html>